# Dental apo

## 目次
1. サイトテーマ
1. テーマを選んだ理由
1. ターゲットユーザ
1. 主な利用シーン
1. 機能一覧
1. 設計書
1. 開発環境
1. 利用手順

### サイトテーマ
歯科医院の予約管理に特化したアプリケーションです。

### テーマを選んだ理由
前職は歯科衛生士として働いていたのですが、予約管理が手書きなどのマニュアル作業でした。そのため直接アポイント帳に書く前に、電話を取りながらメモをしてから清書していました。
また、アポイント帳の文字が小さすぎて見えなかったり、キャンセルになった場合に書き換え忘れたりと無駄な挙動やミスが多いと感じていました。

このような経験から、当日の予約一覧確認・登録・変更・キャンセルがスムーズに行える仕組みがあれば便利だと思い、このアプリケーションを制作しました。
予約の電話を取りながら予約内容を入力を行い、電話を切るときには予約を完了することができます。
予約を取るだけでなく、患者の治療内容や注意事項など、歯科医院側で把握しておきたい情報が表示できます。また、患者側から何か要望がある際に記入できる備考欄も用意し、歯科医院での使用に特化したアプリケーションにしました。

### ターゲットユーザ
- 歯科医療従事者
- 患者

### 主な利用シーン
- 歯科医院側で患者の予約を取るとき
- 術者として予約情報を確認するとき
- 当日の予約一覧を確認するとき
- 患者がWEB予約をするとき

## 機能一覧

- 歯科医院ログイン、ログアウト機能
- 患者ログイン、ログアウト機能
- 患者登録、編集、詳細、日付と担当者毎の一覧表示、IDもしくはカナ名での検索機能
- 予約登録、編集、詳細、一覧表示機能
- 従業員登録、一覧、編集、削除機能
- 治療登録、一覧、編集、削除機能
- 症状登録、一覧、編集、削除機能
- 感染症登録、一覧、編集、削除機能
- カレンダー機能（該当の日付の予約一覧が表示される）
- 非同期通信（来院アクション）

## 設計書
- ER図、UIflow、ワイヤーフレーム：https://app.diagrams.net/#G1vIGpZaW1Ugp5TgCet02KM39zdFcZlQAQ
- テーブル定義書：https://docs.google.com/spreadsheets/d/1GnBrqz-yBrSKudYmxF0daBHsI_1VwG0UsqVGwX7TKdg/edit#gid=1153026649
- WBS：https://docs.google.com/spreadsheets/d/1G_aLaDYMxe5gKjSwvIUprj8JAUyz-Bb0r5gD66uF2V8/edit#gid=1773513600

## 開発環境
- OS：Linux(CentOS), macOS,
- 言語：HTML,CSS,JavaScript,Ruby,SQL
- フレームワーク：Ruby on Rails
- JSライブラリ：jQuery
- IDE：Cloud9

## 利用手順
1. [URL](http://dental-apo.com/)を開く
1. 歯科医院関係者か患者を選択する

### 歯科医院関係者

#### ログイン
1. メールアドレスとパスワードを入力しログインを押下すると、歯科医院側のトップページへ遷移する
  ```
  メールアドレス：dental@g.com
  パスワード：111111
  ```
#### 予約確認、編集、更新
1. トップページのカレンダーの日付を押下すると、予約一覧画面へ遷移する
1. サイドバーの予約一覧を押下すると、当日の予約一覧画面へ遷移する
1. 予約を押下すると、予約詳細に遷移する
1. 来院を押下すると、ステータスが来院済みになり、来院日が更新される
1. 予約編集を押下すると、予約編集画面へ遷移する
1. 保存を押下すると、予約内容が更新される

#### 患者登録、確認、編集、履歴
1. サイドバーの患者登録を押下すると、患者登録画面へ遷移する
1. 必須項目を入力し新規登録を押下すると、患者登録が完了し、患者詳細画面へ遷移する
1. 患者情報編集を押下すると、患者編集へ遷移する
1. 予約履歴を押下すると、患者の予約履歴画面へ遷移する
1. 予約を押下すると、予約詳細画面へ遷移する
1. サイドバーの患者一覧を押下すると、患者一覧画面へ遷移する
1. 患者を選択すると、患者詳細画面へ遷移する

#### 予約取得
1. 患者詳細画面から予約取得を押下すると、患者の予約取得画面へ遷移する
1. 必須項目を入力（予約日時は当日以降の10:00~18:30）し、新規登録を押下すると、予約が完了し、予約詳細画面へ遷移する

#### 予約依頼確認
1. サイドバーの承認待ちを押下すると、予約依頼画面へ遷移する
1. 予約を選択すると、予約詳細画面へ遷移する
1. 予約編集を押下すると、予約編集画面へ遷移する
1. ステータスを確定か予約不可にし、担当者と予約者を選択して保存すると、予約内容が更新され、承認待ちの通知が消える

#### スタッフ、治療、症状、感染症編集
1. サイドバーの追加したい項目（スタッフ、治療、症状、感染症のいずれか）を選択すると、一覧・追加画面へ遷移する
1. 白枠内に追加したい内容を記入し、新規登録を押下すると、項目が追加される
1. 編集を押下すると編集画面へ遷移する
1. 内容を変更して、変更保存を押下すると、内容が更新され、一覧・追加画面へ遷移する
1. 削除を押下すると、内容が削除され、一覧・追加画面へ遷移する
1. サイドバーのトップへを押下すると、トップページへ遷移する

#### 検索
1. 右上の検索窓にIDもしくはカナを入力する
1. 虫眼鏡マークを押下すると、検索結果が表示される

#### ログアウト
1. トップページの右上にあるログアウトを押下すると、ログアウトが完了し、歯科医院ログイン画面へ遷移する

### 患者
1. 患者登録済なら電話番号とパスワードを入力しログインする
1. 登録していなければ新規患者登録を押下する

#### ログイン
1. 電話番号とパスワードを入力しログインを押下すると、歯科医院側のトップページへ遷移する
  ```
  サンプル患者情報
  電話番号：222222
  パスワード：222222
  ```

#### 患者登録
1. ログインページから新規患者登録を押下すると、患者登録画面へ遷移する
1. 必須項目を入力し、新規登録を押下すると、登録が完了しマイページへ遷移する

#### 予約取得、変更、キャンセル
1. トップページからカレンダーの日付か、サイドバーの予約取得からカレンダーの日付を押下すると、予約一覧画面へ遷移する
1. ◯印を押下すると、予約依頼へ遷移する
1. 症状を選択し、予約依頼送信を押下すると、予約依頼が完了する
1. 予約詳細から予約内容変更を押下すると、予約編集画面へ遷移する
1. 日付と時間を選択し（30分単位）、保存を押下すると、予約詳細画面へ遷移し、予約依頼内容が変更される。（承認待ち）
1. 予約編集で予約状態をキャンセルに変更してから保存を押下すると、予約詳細画面へ遷移し、予約がキャンセルされる。

#### 予約履歴、通知確認
1. サイドバーの予約履歴を押下すると、予約履歴画面へ遷移する
1. 予約履歴を選択すると、予約詳細画面へ遷移する
1. 歯科医院側で予約ステータスが確定か予約不可に変更されると、サイドバーに通知と件数が表示される
1. 予約履歴で通知確認が必要な予約は、ピンク色に表示される
1. ピンク色の予約を押下し、予約詳細画面を表示すると、通知が消える

#### 登録情報確認
1. サイドバーの登録情報を押下すると、登録情報画面へ遷移する
1. 登録情報画面の登録情報編集を押下すると、登録情報編集画面へ遷移する
1. 必須項目を入力し、変更保存を押下すると、変更が完了し、登録情報画面へ遷移する

#### ログアウト
1. サイドバーのログアウトを押下すると、ログアウトが完了し、患者ログイン画面へ遷移する

#### 未登録の場合の予約確認
1. 患者ログイン画面から、予約状況を押下すると、予約状況が確認できる

#### パスワード再登録
1. 患者ログイン画面から、パスワード再登録を押下すると、パスワード再設定画面へ遷移する
1. 登録済のメールアドレスを入力し、送信を押下すると、登録済のアドレス宛にメールが送信される
1. メールを確認し、URLを押下すると、パスワード再登録画面へ遷移する
1. 新しいパスワードと、新しいパスワード確認で同じものを入力し、ログインを押下すると、パスワードが変更されてログインする